
# Redis 基础

- ## String 字符 常用命令
  - set: 设置值
  
    ```
    > set user_str 111
    OK
    ```
  - get: 获取值

    ```
    > get user_str
    111
    ```

  - mset: 设置多个键值对
  
    ```
    > mset A 11 a tuotuo
    OK
    ```
  - mget: 获取多个键值对

    ```
    > mget A a
    11
    tuotuo
    ```
  - append: 添加字符串
  
    ```
    > append A 234
    5
    > get A
    11234
    ```
  - incr/decr: 增加/减少 1

    ```
    > incr A
    11235
    > incr A
    11236
    > decr A
    11235
    > decr A
    11234
    > decr A
    11233
    ```

- ## List 集合 常用命令
  - lpush/rpush: 从左/右插入数据

    ```
    > lpush user_list zhangsan lisi wangwu
    3
    > rpush user_list zhangsan lisi wangwu
    6
    ```
  - lrange: 获取指定长度的数据
    
    ```
    > lrange user_list 0 -1
    wangwu
    lisi
    zhangsan
    wangwu
    lisi
    zhangsan
    ```
  - ltrim: 截取一定长度的数据
    
    ```
    > ltrim user_list 0 -1
    OK
    ```
  - lpop/rpop: 移除最左/最右的成员并返回
    
    ```
    > lpop user_list
    wangwu
    > rpop user_list
    zhangsan
    ```
  - lpushx/rpushx: key存在的时候才插入数据，不存在时不做任何处理
    
    ```
    > lpushx user_list ttttt
    5
    > lpushx user_listxxx 5555
    0
    > rpushx user_list ttttt
    6
    > rpushx user_listxxx 5555
    0
    ```

- ## Hash 散列 常用命令
  - hset/hget: 设置/过去获取散列值

    ```
    > hset user_set name zhangsan
    1
    > hget user_set name
    zhangsan
    ```
  - hmset/hmget: 设置/获取多个散列值

    ```
    > hmset user_set age 27 sex 男
    OK
    > hmget user_set name age sex
    zhangsan
    27
    男
    ```
  - hsetnx: 如果散列域已经存在，则不设置

    ```
    > hsetnx user_set email xxx@gamil.com
    1
    > hget user_set email
    xxx@gamil.com
    > hsetnx user_set email 111@gamil.com
    0
    > hget user_set email
    xxx@gamil.com
    ```
  - hkeys/hvals: 返回所有keys/values

    ```
    > hkeys user_set
    name
    age
    sex
    email
    > hvals user_set
    zhangsan
    27
    男
    xxx@gamil.com
    ```
  - hlen: 返回散列包含域（field）的数量

    ```
    > hlen user_set
    4
    ```
  - hdel: 删除散列指定的域（field）

    ```
    > hdel user_set email
    1
    > hget user_set email
    null
    ```
  - hexists: 判断是否存在

    ```
    > hexists user_set email
    0
    > hexists user_set name
    1
    ```


- ## Set 无序集合 常用命令
  - sadd/srem: 添加/删除成员
  
    ```
    > sadd user_set tuotuo xutuo tt TT_mistake
    4
    > srem user_set tuotuo
    1
    ```
  - sismember: 判断是否为set的一个成员
    
    ```
    > sismember user_set tuotuo
    0
    > sismember user_set tt
    1
    ```
  - smembers: 返回该集合的所有成员
    
    ```
    > smembers user_set
    TT_mistake
    tt
    xutuo
    ```
  - sdiff: 返回一个集合与其他集合的差异
    
    ```
    > smembers user_set
    TT_mistake
    tt
    xutuo
    > smembers user_set2
    wangwu
    zhangsan
    tt
    lisi
    > sdiff user_set user_set2
    TT_mistake
    xutuo
    > sdiff user_set2 user_set
    zhangsan
    wangwu
    lisi
    ```
  - sinter: 返回几个集合的交集
    
    ```
    > sinter user_set user_set2
    tt
    ```
  - sunion: 返回几个集合的并集
    
    ```
    > sunion user_set user_set2
    xutuo
    tt
    wangwu
    TT_mistake
    lisi
    zhangsan
    ```


- ## zSet 有序集合 常用命令
  - zadd/zrem: 添加（修改）/删除成员
  
    ```
    > zadd grade2 90 UU01 56 UU02 83 UU03
    3
    > zrem grade2 UU03
    1
    ```
  - zcard/zcount: 统计成员的数量
  
    ```
    > zcard grade2
    2
    > zcount grade2 0 100
    2
    ```
  - zscore: 某个成员的分数（score)

    ```
    > zscore grade2 UU01
    90
    ```
  - zrange/zrevrange: 按升序/降序查看成员

    ```
    > zrevrange grade2 0 -1
    UU01
    UU02
    > zrange grade2 0 -1
    UU02
    UU01
    ```
  - zrank/zrevrank: 按升序/降序查看成员排名

    ```
    > zrank grade2 UU01
    1
    > zrevrank grade2 UU01
    0
    ```

